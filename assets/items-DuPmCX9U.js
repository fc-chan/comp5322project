import{y as f,r as l,q as n}from"./index-DjYuONCZ.js";import{u as I,r as p}from"./user-DmuT5ijt.js";const b=f("items",()=>{let s=l([]);async function o(){const t=await p.get("/items/available");s.value=t.data??t}const i=4320*60*1e3,u=n(()=>{const t=Date.now();return s.value.filter(e=>{if(!e?.auctionEndHkt)return!1;const r=e.auctionEndHkt instanceof Date?e.auctionEndHkt:new Date(e.auctionEndHkt);if(Number.isNaN(r.getTime()))return!1;const a=r.getTime()-t;return a>0&&a<=i})}),c=n(()=>[...s.value].sort(()=>Math.random()-.5).slice(0,5)),d=I(),m=n(()=>{const t=d.user.bidsPlaced.map(e=>e.itemId);return s.value.filter(e=>t.includes(e.id))});return{items:s,endingSoonItems:u,randomItems:c,itemsBidByUser:m,fetchItems:o}});export{b as u};
