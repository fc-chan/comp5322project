import{u as D}from"./items-CNSAUR1l.js";import{_ as M,o as L,i as f,e as t,g as n,w as a,b as d,F as g,d as m,l as v,t as l,f as y,c as S,p as B}from"./index-CmzPeAC5.js";import"./user-qFaTMVzK.js";const P={class:"auction-section",style:{"background-color":"white"}},T={class:"auction-left"},I=["src"],N={class:"auction-right"},H={class:"title"},R={class:"description"},j={style:{padding:"14px"}},U={style:{display:"flex","align-items":"center","justify-items":"space-between"}},z={class:"recommend-list"},A={class:"recommend-inner"},F={class:"recommend-title"},V=["src"],q={class:"recommend-desc"},G={class:"recommend-time"},W={class:"fancy-btn"},Y={class:"scrollbar-flex-content"},Z=["src"],J={class:"item-info"},K={class:"item-title"},O={class:"time-group"},Q={class:"item-end"},X={class:"time-progress"},tt={__name:"Promotion",setup(et){const h=D();L(async()=>{await h.fetchItems()});const k=new URL("/comp5322project/assets/sample_item_1-BZvgzEcH.png",import.meta.url).href,x=new URL("/comp5322project/assets/sample_item_2-BawLGWwv.png",import.meta.url).href,b=[{img:k,title:"Classic Cars Collection",description:"Explore our exclusive range of vintage and classic cars from around the world."},{img:x,title:"Exclusive Art Collection",description:"Discover rare and exquisite artworks from renowned artists available for auction."}],$=c=>{const s=new Date(c);if(Number.isNaN(s.getTime()))return"Unknown";const _=new Date,u=s.getTime()-_.getTime(),o=Math.floor(u/1e3),i=Math.floor(o/(3600*24)),r=Math.floor(o%(3600*24)/3600),p=Math.floor(o%3600/60);return i>0?`Ends in ${i} day${i>1?"s":""} ${r} hour${r>1?"s":""}`:r>0?`Ends in ${r} hour${r>1?"s":""} ${p} min`:p>0?`Ends in ${p} min`:"Ends in less than 1 min"},w=c=>{if(!c)return 0;const s=new Date(c).getTime(),_=Date.now(),u=s-_,o=10080*60*1e3;let i=100-u/o*100;return Math.min(Math.max(i,0),100)},E=c=>{const s=w(c);return s>80?"#e74c3c":s>40?"#f1c40f":"#2ecc71"};return(c,s)=>{const _=d("el-carousel-item"),u=d("el-carousel"),o=d("el-skeleton-item"),i=d("RouterLink"),r=d("el-card"),p=d("el-skeleton"),C=d("el-scrollbar");return m(),f(g,null,[t("div",null,[n(u,{interval:5e3,arrow:"always"},{default:a(()=>[(m(),f(g,null,v(b,e=>n(_,{key:e.img},{default:a(()=>[t("div",P,[t("div",T,[t("img",{src:e.img,alt:"banner"},null,8,I)]),t("div",N,[t("div",H,l(e.title),1),t("div",R,l(e.description),1)])])]),_:2},1024)),64))]),_:1})]),t("div",null,[s[0]||(s[0]=t("div",{class:"block-title"}," You might also like... ",-1)),n(p,{style:{width:"240px",display:"flex"},loading:!1,count:3},{template:a(()=>[t("div",null,[n(o,{variant:"image",style:{width:"240px",height:"240px"}}),t("div",j,[n(o,{variant:"p",style:{width:"50%"}}),t("div",U,[n(o,{variant:"text",style:{"margin-right":"16px"}}),n(o,{variant:"text",style:{width:"30%"}})])])])]),default:a(()=>[t("div",z,[(m(!0),f(g,null,v(y(h).randomItems,e=>(m(),S(r,{key:e.id,class:"recommend-card"},{default:a(()=>[t("div",A,[t("div",F,l(e.title),1),t("img",{src:`data:${e.imageContentType};base64,${e.imageData}`,alt:"item",class:"recommend-image"},null,8,V),t("p",q,l(e.description),1),t("p",G,l(e.timeleft),1),n(i,{to:`/item/${e.id}`,class:"recommend-btn-wrapper"},{default:a(()=>[t("button",W," Starting Price: $"+l(e.startingPrice),1)]),_:2},1032,["to"])])]),_:2},1024))),128))])]),_:1})]),t("div",null,[s[1]||(s[1]=t("div",{class:"block-title"}," Auction ending soon ",-1)),n(C,null,{default:a(()=>[t("div",Y,[(m(!0),f(g,null,v(y(h).endingSoonItems,e=>(m(),f("div",{key:e.id,class:"auction-card"},[n(i,{to:`/item/${e.id}`},{default:a(()=>[t("img",{class:"main-image",src:`data:${e.imageContentType};base64,${e.imageData}`,alt:"item image"},null,8,Z)]),_:2},1032,["to"]),t("div",J,[t("h3",K,l(e.title),1),t("div",O,[t("p",Q,l($(e.auctionEndHkt)),1),t("div",X,[t("div",{class:"time-progress-fill",style:B({width:w(e.auctionEndHkt)+"%",backgroundColor:E(e.auctionEndHkt)})},null,4)])])])]))),128))])]),_:1})])],64)}}},it=M(tt,[["__scopeId","data-v-fa66b6a4"]]);export{it as default};
