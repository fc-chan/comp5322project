import{y as i,A as o}from"./index-CVwAxhXS.js";import{r}from"./request-DxDOYZdA.js";const u=i("user",()=>{let l=localStorage.getItem("user");l=l?JSON.parse(l):null;const e=o({id:l?.userId??null,token:l?.token??null,username:"",email:"",profile:{},itemsSelling:[],bidsPlaced:[]});return e.id&&e.token&&r.get(`/users/${e.id}/profile`,{headers:{"auction-token":`${e.token}`}}).then(t=>{e.username=t.username,e.email=t.email,e.profile=t.profile,e.itemsSelling=t.itemsSelling,e.bidsPlaced=t.bidsPlaced}),{user:e,logout:()=>{e.id=null,e.token=null,e.username="",e.email="",e.profile={},e.itemsSelling=[],e.bidsPlaced=[],localStorage.removeItem("user")}}});export{u};
