import{r as z}from"./request-BCwGN2Wi.js";import{_ as U,r as C,z as H,o as I,a as $,h as q,e as i,f as r,w as n,b as m,g as N,m as F,D as S,E as T,l as X,d as D}from"./index-lND25TUq.js";const O={class:"bg"},Y={class:"leftbox",ref:"leftRef"},A={class:"rightbox"},j="#ff6a02",G=10,J={__name:"RegisterView",setup(K){const R=C(null),s=H({form:{username:"",email:"",password:"",profile:{bio:""}},rules:{email:[{required:!0,message:"Please input the email.",trigger:"blur"},{type:"email",message:"Please input a valid email address.",trigger:"blur"}],password:[{required:!0,message:"Please input the password.",trigger:"blur"}],confirmPassword:[{required:!0,message:"Please confirm the password.",trigger:"blur"},{validator:(l,e,t)=>{e!==s.form.password?t(new Error("The two passwords do not match!")):t()},trigger:"blur"}]}}),B=()=>{R.value.validate(l=>{l&&z.post("/auth/register",s.form).then(()=>{T.success("Registration successful!"),X.push("/login")})})};let d,u,E,x;function _(l,e,t){const o=l.getBoundingClientRect(),b=o.left+o.width/2,L=o.top+o.height/2,a=e-b,V=t-L,P=Math.atan2(V,a),k=Math.min(G,Math.hypot(a,V)/20);return{x:Math.cos(P)*k,y:Math.sin(P)*k}}function f(l,e){const t=_(d,l,e),o=_(u,l,e);E.style.transform=`translate(${t.x}px, ${t.y}px)`,x.style.transform=`translate(${o.x}px, ${o.y}px)`}const p=()=>{d.classList.add("closed"),u.classList.add("closed")},M=()=>{d.classList.remove("closed"),u.classList.remove("closed")};let c,v,g,w,y,h;return I(()=>{d=document.getElementById("eyeL"),u=document.getElementById("eyeR"),E=document.getElementById("pupilL"),x=document.getElementById("pupilR"),c=t=>f(t.clientX,t.clientY),v=t=>{const o=t.touches[0];o&&f(o.clientX,o.clientY)},window.addEventListener("mousemove",c,{passive:!0}),window.addEventListener("touchmove",v,{passive:!0}),g=()=>p(),w=t=>{const o=document.activeElement;(!leftRef.value||!leftRef.value.contains(o))&&M()},y=()=>p(),h=()=>p();const l=leftRef.value;l.addEventListener("focusin",g,!0),l.addEventListener("focusout",w,!0),l.addEventListener("keydown",y,!0),l.addEventListener("input",h,!0);const e=document.body.getBoundingClientRect();f(e.width/2,e.height/2)}),$(()=>{window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",v),leftRef.value&&(leftRef.value.removeEventListener("focusin",g,!0),leftRef.value.removeEventListener("focusout",w,!0),leftRef.value.removeEventListener("keydown",y,!0),leftRef.value.removeEventListener("input",h,!0))}),(l,e)=>{const t=m("el-input"),o=m("el-form-item"),b=m("el-button"),L=m("el-form");return D(),q("div",O,[i("div",Y,[r(L,{"status-icon":"",ref_key:"formRef",ref:R,model:s.form,rules:s.rules},{default:n(()=>[e[7]||(e[7]=i("div",{style:{margin:"20px 0","text-align":"left","font-weight":"bold","font-size":"30px"}},"For Registration",-1)),r(o,{prop:"username"},{default:n(()=>[r(t,{size:"large",modelValue:s.form.username,"onUpdate:modelValue":e[0]||(e[0]=a=>s.form.username=a),placeholder:"Please input the username.","auto-complete":"off","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),r(o,{prop:"email"},{default:n(()=>[r(t,{size:"large",modelValue:s.form.email,"onUpdate:modelValue":e[1]||(e[1]=a=>s.form.email=a),placeholder:"Please input the email.","auto-complete":"off","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),r(o,{prop:"password"},{default:n(()=>[r(t,{size:"large",modelValue:s.form.password,"onUpdate:modelValue":e[2]||(e[2]=a=>s.form.password=a),placeholder:"Please input the password.","auto-complete":"off","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),r(o,{prop:"confirmPassword"},{default:n(()=>[r(t,{size:"large",modelValue:s.form.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>s.form.confirmPassword=a),placeholder:"Please confirm the password.","auto-complete":"off","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),r(o,{prop:"profile.bio"},{default:n(()=>[r(t,{size:"large",modelValue:s.form.profile.bio,"onUpdate:modelValue":e[4]||(e[4]=a=>s.form.profile.bio=a),placeholder:"Please input your bio.","auto-complete":"off","prefix-icon":"Document"},null,8,["modelValue"])]),_:1}),i("div",null,[r(b,{style:{width:"100%",background:"linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%)"},size:"large",type:"primary",onClick:e[5]||(e[5]=a=>B())},{default:n(()=>[...e[6]||(e[6]=[N("Registration",-1)])]),_:1})])]),_:1},8,["model","rules"])],512),i("div",A,[i("div",{class:"ball",style:F({"--ball":j}),"aria-label":"cute blue ball"},[...e[8]||(e[8]=[S('<div class="face" data-v-d6715d4d><div class="eyes" data-v-d6715d4d><div class="eye idle-blink" id="eyeL" data-v-d6715d4d><div class="pupil" id="pupilL" data-v-d6715d4d></div></div><div class="eye idle-blink" id="eyeR" data-v-d6715d4d><div class="pupil" id="pupilR" data-v-d6715d4d></div></div></div><div class="mouth" aria-hidden="true" data-v-d6715d4d></div></div>',1)])],4)])])}}},ee=U(J,[["__scopeId","data-v-d6715d4d"]]);export{ee as default};
