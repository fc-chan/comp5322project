import{y as f,r as l,q as n}from"./index-CVwAxhXS.js";import{r as I}from"./request-DxDOYZdA.js";import{u as p}from"./user-vsJKJ1an.js";const g=f("items",()=>{let s=l([]);async function a(){const t=await I.get("/items/available");s.value=t.data??t}const i=4320*60*1e3,u=n(()=>{const t=Date.now();return s.value.filter(e=>{if(!e?.auctionEndHkt)return!1;const r=e.auctionEndHkt instanceof Date?e.auctionEndHkt:new Date(e.auctionEndHkt);if(Number.isNaN(r.getTime()))return!1;const o=r.getTime()-t;return o>0&&o<=i})}),c=n(()=>[...s.value].sort(()=>Math.random()-.5).slice(0,5)),m=p(),d=n(()=>{const t=m.user.bidsPlaced.map(e=>e.itemId);return s.value.filter(e=>t.includes(e.id))});return{items:s,endingSoonItems:u,randomItems:c,itemsBidByUser:d,fetchItems:a}});export{g as u};
