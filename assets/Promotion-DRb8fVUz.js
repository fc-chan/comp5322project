import{u as D}from"./items-WD-hZ3NJ.js";import{_ as M,o as L,h as g,e as t,f as n,w as i,b as d,F as h,d as m,k as v,t as r,u as x,c as B,m as P}from"./index-DfyRTdXA.js";import"./request-CZ4xFZI6.js";import"./user-Bir4zp4M.js";const S={class:"auction-section",style:{"background-color":"white"}},T={class:"auction-left"},N=["src"],z={class:"auction-right"},H={class:"title"},I={class:"description"},R={style:{padding:"14px"}},j={style:{display:"flex","align-items":"center","justify-items":"space-between"}},U={class:"recommend-list"},A={class:"recommend-title"},F={class:"recommend-body"},V=["src"],q={class:"recommend-desc"},G={class:"recommend-time"},W={class:"fancy-btn"},Y={class:"scrollbar-flex-content"},Z=["src"],J={class:"item-info"},K={class:"item-title"},O={class:"item-end"},Q={class:"time-progress"},X={__name:"Promotion",setup(tt){const f=D();L(async()=>{await f.fetchItems()});const w=new URL("/comp5322project/assets/sample_item_1-BZvgzEcH.png",import.meta.url).href,b=new URL("/comp5322project/assets/sample_item_2-BawLGWwv.png",import.meta.url).href,k=[{img:w,title:"Classic Cars Collection",description:"Explore our exclusive range of vintage and classic cars from around the world."},{img:b,title:"Exclusive Art Collection",description:"Discover rare and exquisite artworks from renowned artists available for auction."}],$=l=>{const s=new Date(l);if(Number.isNaN(s.getTime()))return"Unknown";const _=new Date,u=s.getTime()-_.getTime(),o=Math.floor(u/1e3),a=Math.floor(o/(3600*24)),c=Math.floor(o%(3600*24)/3600),p=Math.floor(o%3600/60);return a>0?`Ends in ${a} day${a>1?"s":""} ${c} hour${c>1?"s":""}`:c>0?`Ends in ${c} hour${c>1?"s":""} ${p} min`:p>0?`Ends in ${p} min`:"Ends in less than 1 min"},y=l=>{if(!l)return 0;const s=new Date(l).getTime(),_=Date.now(),u=s-_,o=10080*60*1e3;let a=100-u/o*100;return Math.min(Math.max(a,0),100)},E=l=>{const s=y(l);return s>80?"#e74c3c":s>40?"#f1c40f":"#2ecc71"};return(l,s)=>{const _=d("el-carousel-item"),u=d("el-carousel"),o=d("el-skeleton-item"),a=d("RouterLink"),c=d("el-card"),p=d("el-skeleton"),C=d("el-scrollbar");return m(),g(h,null,[t("div",null,[n(u,{interval:5e3,arrow:"always"},{default:i(()=>[(m(),g(h,null,v(k,e=>n(_,{key:e.img},{default:i(()=>[t("div",S,[t("div",T,[t("img",{src:e.img,alt:"banner"},null,8,N)]),t("div",z,[t("div",H,r(e.title),1),t("div",I,r(e.description),1)])])]),_:2},1024)),64))]),_:1})]),t("div",null,[s[0]||(s[0]=t("div",{style:{"margin-top":"1%","margin-bottom":"1%","font-size":"20px","font-weight":"bold",color:"#475669"}}," You might also like... ",-1)),n(p,{style:{width:"240px",display:"flex"},loading:!1,count:3},{template:i(()=>[t("div",null,[n(o,{variant:"image",style:{width:"240px",height:"240px"}}),t("div",R,[n(o,{variant:"p",style:{width:"50%"}}),t("div",j,[n(o,{variant:"text",style:{"margin-right":"16px"}}),n(o,{variant:"text",style:{width:"30%"}})])])])]),default:i(()=>[t("div",U,[(m(!0),g(h,null,v(x(f).randomItems,e=>(m(),B(c,{key:e.id,class:"recommend-card","body-style":{padding:"14px"}},{header:i(()=>[t("div",A,r(e.title),1)]),default:i(()=>[t("div",F,[t("img",{src:`data:${e.imageContentType};base64,${e.imageData}`,alt:"item",class:"recommend-image"},null,8,V),t("p",q,r(e.description),1),t("p",G,r(e.timeleft),1),n(a,{to:`/item/${e.id}`},{default:i(()=>[t("button",W," Starting Price: $"+r(e.startingPrice),1)]),_:2},1032,["to"])])]),_:2},1024))),128))])]),_:1})]),t("div",null,[s[1]||(s[1]=t("div",{style:{"margin-top":"1%","margin-bottom":"1%","font-size":"20px","font-weight":"bold",color:"#475669"}}," Auction ending soon ",-1)),n(C,null,{default:i(()=>[t("div",Y,[(m(!0),g(h,null,v(x(f).items,e=>(m(),g("div",{key:e.id,class:"auction-card",style:{"background-color":"rgb(250, 250, 250)",width:"200px",height:"200px",margin:"10px",padding:"10px","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.1)"}},[n(a,{to:`/item/${e.id}`},{default:i(()=>[t("img",{class:"main-image",src:`data:${e.imageContentType};base64,${e.imageData}`,alt:"item image",style:{height:"100px",display:"block","margin-left":"auto","margin-right":"auto"}},null,8,Z)]),_:2},1032,["to"]),t("div",J,[t("h3",K,r(e.title),1),t("p",O,r($(e.auctionEndHkt)),1),t("div",Q,[t("div",{class:"time-progress-fill",style:P({width:y(e.auctionEndHkt)+"%",backgroundColor:E(e.auctionEndHkt)})},null,4)])])]))),128))])]),_:1})])],64)}}},it=M(X,[["__scopeId","data-v-d855a8bb"]]);export{it as default};
