import{u as v,r as x}from"./user-qFaTMVzK.js";import{_ as y,r as k,A as V,i as S,e as o,g as t,w as s,b as r,h as f,E as z,m as P,d as L}from"./index-CmzPeAC5.js";/* empty css                                                                  */const U={class:"bg"},h={class:"leftbox"},I={class:"rightbox"},E={__name:"LoginView",setup(N){const i=v(),a=k(null),l=V({form:{email:"",password:""},rules:{email:[{required:!0,message:"Please input the email.",trigger:"blur"},{type:"email",message:"Please input a valid email address.",trigger:"blur"}],password:[{required:!0,message:"Please input the password.",trigger:"blur"}]}}),g=()=>{a.value.validate(u=>{u&&x.post("/auth/login",l.form).then(async e=>{localStorage.setItem("user",JSON.stringify(e||{})),i.user.id=e.userId,i.user.token=e.token,await i.fetchProfile(),z.success("Login successful!"),P.push("/home")})})};return(u,e)=>{const d=r("el-input"),p=r("el-form-item"),m=r("el-button"),_=r("el-form"),c=r("UserFilled"),w=r("el-icon"),b=r("router-link");return L(),S("div",U,[o("div",h,[e[6]||(e[6]=o("div",{style:{margin:"40px 0","text-align":"left","font-size":"30px"}},"Sign In",-1)),t(_,{ref_key:"formRef",ref:a,model:l.form,rules:l.rules},{default:s(()=>[e[4]||(e[4]=o("p",{style:{"font-size":"14px","font-weight":"bold"}},"EMAIL",-1)),t(p,{prop:"email"},{default:s(()=>[t(d,{size:"large",modelValue:l.form.email,"onUpdate:modelValue":e[0]||(e[0]=n=>l.form.email=n),placeholder:"Please input the email.","auto-complete":"off","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),e[5]||(e[5]=o("p",{style:{"font-size":"14px","font-weight":"bold"}},"PASSWORD",-1)),t(p,{prop:"password"},{default:s(()=>[t(d,{size:"large",modelValue:l.form.password,"onUpdate:modelValue":e[1]||(e[1]=n=>l.form.password=n),placeholder:"Please input the password.","auto-complete":"off","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),o("div",null,[t(m,{style:{width:"100%",background:"linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%)"},size:"large",type:"primary",onClick:e[2]||(e[2]=n=>g())},{default:s(()=>[...e[3]||(e[3]=[f("Sign in",-1)])]),_:1})])]),_:1},8,["model","rules"])]),o("div",I,[e[8]||(e[8]=o("div",null,[o("p",{style:{"font-size":"30px","font-weight":"bold"}},"Welcome to Login")],-1)),e[9]||(e[9]=o("div",null,[o("p",null,"Don't have an account?")],-1)),o("div",null,[t(b,{to:"/register"},{default:s(()=>[t(m,{style:{color:"white","margin-top":"20px",background:"linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%)"},type:"danger",plain:""},{default:s(()=>[t(w,null,{default:s(()=>[t(c)]),_:1}),e[7]||(e[7]=f("Sign Up",-1))]),_:1})]),_:1})])])])}}},C=y(E,[["__scopeId","data-v-a7f0779c"]]);export{C as default};
