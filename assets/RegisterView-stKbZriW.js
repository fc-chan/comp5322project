import{r as q}from"./user-qFaTMVzK.js";import{_ as N,r as z,A as $,o as F,a as S,i as T,e as d,g as a,w as i,b as f,h as C,p as X,D as A,E as D,u as O,d as Y}from"./index-CmzPeAC5.js";const j={class:"bg"},G={class:"rightbox"},J="#ff6a02",K=10,Q={__name:"RegisterView",setup(W){const u=O(),_=z(null),n=z(null),s=$({form:{username:"",email:"",password:"",profile:{bio:""}},rules:{email:[{required:!0,message:"Please input the email.",trigger:"blur"},{type:"email",message:"Please input a valid email address.",trigger:"blur"}],password:[{required:!0,message:"Please input the password.",trigger:"blur"}],confirmPassword:[{required:!0,message:"Please confirm the password.",trigger:"blur"},{validator:(l,e,t)=>{e!==s.form.password?t(new Error("The two passwords do not match!")):t()},trigger:"blur"}]}}),U=()=>{_.value.validate(l=>{l&&q.post("/auth/register",s.form).then(()=>{D.success("Registration successful!"),u.push("/login")})})},H=async()=>{console.log("from",u.currentRoute.value.fullPath),await u.push("/login"),console.log("to",u.currentRoute.value.fullPath)};let m,p,R,V;function P(l,e,t){const o=l.getBoundingClientRect(),c=o.left+o.width/2,E=o.top+o.height/2,r=e-c,k=t-E,B=Math.atan2(k,r),M=Math.min(K,Math.hypot(r,k)/20);return{x:Math.cos(B)*M,y:Math.sin(B)*M}}function v(l,e){const t=P(m,l,e),o=P(p,l,e);R.style.transform=`translate(${t.x}px, ${t.y}px)`,V.style.transform=`translate(${o.x}px, ${o.y}px)`}const g=()=>{m.classList.add("closed"),p.classList.add("closed")},I=()=>{m.classList.remove("closed"),p.classList.remove("closed")};let w,y,b,h,L,x;return F(()=>{m=document.getElementById("eyeL"),p=document.getElementById("eyeR"),R=document.getElementById("pupilL"),V=document.getElementById("pupilR"),w=t=>v(t.clientX,t.clientY),y=t=>{const o=t.touches[0];o&&v(o.clientX,o.clientY)},window.addEventListener("mousemove",w,{passive:!0}),window.addEventListener("touchmove",y,{passive:!0}),b=()=>g(),h=t=>{const o=document.activeElement;(!n.value||!n.value.contains(o))&&I()},L=()=>g(),x=()=>g();const l=n.value;l.addEventListener("focusin",b,!0),l.addEventListener("focusout",h,!0),l.addEventListener("keydown",L,!0),l.addEventListener("input",x,!0);const e=document.body.getBoundingClientRect();v(e.width/2,e.height/2)}),S(()=>{window.removeEventListener("mousemove",w),window.removeEventListener("touchmove",y),n.value&&(n.value.removeEventListener("focusin",b,!0),n.value.removeEventListener("focusout",h,!0),n.value.removeEventListener("keydown",L,!0),n.value.removeEventListener("input",x,!0))}),(l,e)=>{const t=f("el-input"),o=f("el-form-item"),c=f("el-button"),E=f("el-form");return Y(),T("div",j,[d("div",{class:"leftbox",ref_key:"leftRef",ref:n},[a(E,{"status-icon":"",ref_key:"formRef",ref:_,model:s.form,rules:s.rules},{default:i(()=>[e[7]||(e[7]=d("div",{style:{margin:"20px 0","text-align":"left","font-weight":"bold","font-size":"30px"}},"For Registration",-1)),a(o,{prop:"username"},{default:i(()=>[a(t,{size:"large",modelValue:s.form.username,"onUpdate:modelValue":e[0]||(e[0]=r=>s.form.username=r),placeholder:"Please input the username.","auto-complete":"off","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),a(o,{prop:"email"},{default:i(()=>[a(t,{size:"large",modelValue:s.form.email,"onUpdate:modelValue":e[1]||(e[1]=r=>s.form.email=r),placeholder:"Please input the email.","auto-complete":"off","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),a(o,{prop:"password"},{default:i(()=>[a(t,{size:"large",modelValue:s.form.password,"onUpdate:modelValue":e[2]||(e[2]=r=>s.form.password=r),placeholder:"Please input the password.","auto-complete":"off","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),a(o,{prop:"confirmPassword"},{default:i(()=>[a(t,{size:"large",modelValue:s.form.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=r=>s.form.confirmPassword=r),placeholder:"Please confirm the password.","auto-complete":"off","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),a(o,{prop:"profile.bio"},{default:i(()=>[a(t,{size:"large",modelValue:s.form.profile.bio,"onUpdate:modelValue":e[4]||(e[4]=r=>s.form.profile.bio=r),placeholder:"Please input your bio.","auto-complete":"off","prefix-icon":"Document"},null,8,["modelValue"])]),_:1}),d("div",null,[a(c,{style:{width:"100%",background:"linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%)"},size:"large",type:"primary",onClick:U},{default:i(()=>[...e[5]||(e[5]=[C("Registration",-1)])]),_:1})]),d("div",null,[a(c,{style:{width:"100%",background:"linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%)","margin-top":"10px"},size:"large",type:"primary",onClick:H},{default:i(()=>[...e[6]||(e[6]=[C(" Back to Login ",-1)])]),_:1})])]),_:1},8,["model","rules"])],512),d("div",G,[d("div",{class:"ball",style:X({"--ball":J}),"aria-label":"cute blue ball"},[...e[8]||(e[8]=[A('<div class="face" data-v-ba908654><div class="eyes" data-v-ba908654><div class="eye idle-blink" id="eyeL" data-v-ba908654><div class="pupil" id="pupilL" data-v-ba908654></div></div><div class="eye idle-blink" id="eyeR" data-v-ba908654><div class="pupil" id="pupilR" data-v-ba908654></div></div></div><div class="mouth" aria-hidden="true" data-v-ba908654></div></div>',1)])],4)])])}}},oe=N(Q,[["__scopeId","data-v-ba908654"]]);export{oe as default};
